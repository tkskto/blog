---
layout: ../layout/post.astro
title: '私がなぜGLSLをかけないのか'
publishDate: 2022-02-21
tags: ['エンジニアリング']
---
GLSLが書けない。英語で話せない感覚に近い。やりたいことがあるのにどうすればそこに辿り着けるのかが分からない。単純に経験値が足りないっていうのも分かっているけど、英語のように聞き流すこともできないプログラミング言語はとにかく書くしかない。

約10年ほどWebフロントエンドやスマホアプリを作ってきた経験があるので、それなりにプログラミングをやってきたと思っているけど、GLSLはやはり異質。

normalize.fm聞いてると、WebGLをやっている人には複数のタイプが存在するように感じる。こんな記事を書いているくらいだから自分はあまり感性がないタイプなんだと思う。

もし感性を持ち合わせていたら有無を言わせずものづくりしているだろう。感性が欲しいと思うのも、きっとないものねだり。

とはいえ、欲しいと言ってすぐに身につくものでもないので、自分の得意なやり方で、自分の望むところを目指すしかない。

とりあえず書く前に、なんで読めないのかを考えてみた。

## 私には読みづらいコードがあふれている

Shadertoyとかたまに見に行ったりするけど、変数名が1文字だったりするので処理の流れが読みづらい。

歴史はよく分からないけど、デモシーンってどれだけ少ない容量でカッコイイ絵が描けるかが肝だったりするので、その流れなのかなと思ったりする。

## 最終的なイメージへの道筋が描けない

分かる人はGLSLを見ただけで、なんとなくこういうことやりたいんだなとか、こういう絵ができそうだなって想像つくものなんだろうか。

私の場合、たとえば`noise`という関数があったとして、その関数に引数を渡すとこういう結果が返ってくる、というところまでは分かる。けどその結果が最終的な絵にどう影響を与えるのかが分からない。

GLSLは1ピクセルの色を決めるために書く処理だと捉えると、途端に難しくなる。最終的に描きたい絵は何万ピクセルにも及ぶものでそれを1つのコードで処理するとか考えると壮大すぎる。たぶんこの考え方はやめた方がいいだと思う。

GLSLは1つの値に対して四則演算していくということなんじゃないかと、なんとなーく見えてきた気がした時もあった。色を重ねたり、位置をずらしたりする処理を同じ値に対して繰り返していくことで絵が変化する感じ？うまく言葉にできない。

けど、レイトレーシングとかを考え始めると途端に見失う。

## 守備範囲が広い

レイトレするときと3Dモデルデータを表示するときとテクスチャを使う時と、全然書き方が違う。同じ言語なのに、扱い方が違う。

## CGの知識がない

多分、経験を積めば、こういう絵を描きたいとか、エフェクトをかけたいっていう時にはこういう処理をすればいいのだっていう定石のようなものがあるんだっていうのが見えてくるんじゃないかと思う。がどうなんだろう。

## 自分が持ち合わせているテクニックが使えない

簡単に言えばデバッグがとても難しいと感じる。`console.log`できれば少しは楽になるのにな、と何回思ったか分からない。

結局`output`にデバッグしたい値を設定して画面に出してみて探るけど、たいてい真っ白だし。とにかく根気が必要。デバッグのコツを教えて欲しい。
